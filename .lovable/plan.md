

# MEMO 줄 수 계산 오류 수정

## 문제 원인

`estimateMemoLines` 함수의 높이 추정이 실제보다 **낮게** 계산되어, 공간이 충분하다고 판단하고 10줄을 생성하지만, 실제 렌더링에서는 그만큼의 공간이 없어 3페이지로 넘어가는 현상입니다.

구체적으로 두 가지 문제가 있습니다:

### 1. 번역(직역/의역) 줄바꿈 미반영
현재 코드는 직역/의역 각 행을 **무조건 1줄**로 계산합니다 (`transRows * (6 * 1.6 + 3)`). 하지만 문장 3, 6, 9번처럼 긴 번역은 **2줄 이상**으로 렌더링됩니다. 이 차이가 9개 문장에 걸쳐 누적되면 상당한 오차가 됩니다.

### 2. MEMO 컨테이너의 `wrap={false}`
MEMO 전체 블록에 `wrap={false}`가 걸려 있어, 10줄짜리 MEMO 블록이 2페이지에 **통째로** 들어가지 않으면 3페이지로 밀려납니다. 줄 하나라도 넘치면 전체가 다음 페이지로 이동합니다.

## 수정 계획

### 수정 1: 번역 행 높이를 텍스트 길이 기반으로 추정
- 직역/의역/홍T/구문 각 행의 **텍스트 길이**를 측정하여 줄바꿈 여부를 추정
- 번역 영역 가용 너비는 약 399pt (전체 418pt - 바 2pt - 라벨 17pt)
- fontSize 6pt 한국어 기준 한 줄당 약 60자로 계산
- 각 번역 행의 실제 높이 = `ceil(텍스트길이 / 60) * (6 * 1.6) + 3`

### 수정 2: 영어 문장 줄바꿈 추정 보정
- 현재 `/70`을 `/60`으로 낮춰 보수적으로 추정 (문장번호 공간, 슬래시 등 고려)

### 수정 3: 안전 마진 증가
- 현재 `safetyMargin = 2`를 `3`으로 올려 약간의 추정 오차를 흡수

### 수정 4: MEMO의 `wrap={false}` 제거
- MEMO 컨테이너에서 `wrap={false}`를 제거하여, 설사 1줄 정도 오차가 생기더라도 3페이지로 통째로 밀리는 것을 방지

## 수정 파일
- `src/components/PdfDocument.tsx`: `estimateMemoLines` 함수 내 높이 추정 로직 + MEMO View 속성

